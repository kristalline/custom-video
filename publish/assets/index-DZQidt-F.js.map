{"version":3,"file":"index-DZQidt-F.js","sources":["../../js/navigation.js","../../js/data.js","../../js/script.js"],"sourcesContent":["const navigation = (data) => {\n    const ul = document.createElement('ul');\n    ul.classList.add('list');\n\n    const els = data.map((item) => {\n        const li = document.createElement('li');\n        const link = document.createElement('a');\n        link.setAttribute('data-id', item.id);\n        link.classList.add('list-link');\n        const img = document.createElement('img');\n        img.classList.add('list-img');\n        img.setAttribute('src', item.poster);\n        link.append(img);\n        li.append(link);\n        const title = document.createElement('h3');\n        title.textContent = item.name;\n        li.append(title);\n        return li;\n    });\n    if (els.length > 0) {\n        ul.append(...els);\n        return ul\n    }    \n    return null;\n};\n\nexport default navigation;","const data = [\n    {\n        id: 1,\n        pathfile: \"media/Let It Go Disneys Frozen Vivaldis Winter The Piano Guys1080p.mp4\",\n        name: \"Let It Go Disneys Frozen Vivaldis Winter\",\n        poster: 'images/poster-2.png',\n    },\n    {\n        id: 2,\n        pathfile: \"media/Thor Ragnarok Led Zeppelin Immigrant Song 4K IMAX HQ Sound720p.mp4\",\n        name: \"Thor Ragnarok Led Zeppelin Immigrant Song\",\n        poster: 'images/poster-thor.png',\n    },\n    {\n        id: 3,\n        pathfile: \"media/Marvel Televisions Agatha All Along Official Trailer Disney1080p.mp4\",\n        name: \"Agatha All Along Official Trailer Disney\",\n        poster: 'images/poster-agatha.jpeg',\n    },\n    {\n        id: 4,\n        pathfile: \"media/The Lord of the Rings The Rings of Power Season 2 Official Trailer Prime Video1080p.mp4\",\n        name: \"The Lord of the Rings The Rings of Power Season 2 Official Trailer Prime Video\",\n        poster: 'images/poster-rings1.jpeg',\n    },\n\n    {\n        id: 5,\n        pathfile: \"media/Cello Wars Star Wars Parody Lightsaber Duel The Piano Guys1080p.mp4\",\n        name: \"Cello Star Wars Parody Lightsaber Duel The Piano Guys\",\n        poster: 'images/poster-starWars.png',\n    },\n    {\n        id: 6,\n        pathfile: \"media/Let It Go Disneys Frozen Vivaldis Winter The Piano Guys1080p.mp4\",\n        name: \"test id 4\",\n        poster: 'images/poster-2.png',\n    },\n\n];\n\nexport default data;","import navigation from \"./navigation\";\nimport data from \"./data\";\n\nconst container = document.querySelector('.player');\nconst play = document.querySelectorAll('[data-video]');\nconst sound = document.querySelector('.sound');\nconst video = container.querySelector('[data-id]')\nconst playIcons = container.querySelectorAll('[data-icon-video]');\nconst soundIcons = container.querySelectorAll('[data-icon-sound]');\nconst timerEl = document.querySelector('[data-video-timer]');\nconst durationEl = document.querySelector('[data-video-duration]');\nconst progressBar = document.querySelector('.progress-bar');\nconst trackName = document.querySelector('[data-video-name]');\nconst volumeBar = document.querySelector('.volume-bar');\n\nconst state = {\n    isPlayed: false,\n    isMuted: false,\n    viewedId: []\n}\n\nconst getTime = (time) => {    \n    const hours = Math.floor(time / (60 * 60));\n    const min = Math.floor((time % 3600) / 60);\n    const sec = Math.floor(time - (hours * 3600) - (min * 60));\n    const result = [];\n    if (hours !== 0) {\n        result.push(Math.floor(hours))\n    };\n    result.push(min);\n    result.push(sec);\n    return result.join(':');\n};\n\nconst insertVideo = (id) => {\n    video.setAttribute('data-id', id);\n    const currentTrack = data.find((item) => Number(item.id) === Number(id));\n    video.setAttribute('src', currentTrack.pathfile);\n    video.setAttribute('poster', currentTrack.poster);\n    trackName.textContent = currentTrack.name;\n    state.viewedId.push(Number(id));\n};\n\ninsertVideo(3);\n\nvideo.ondurationchange = (event) => {\n    console.log(event)\n    console.log(durationEl, video.duration)\n    timerEl.textContent = getTime(video.currentTime);    \n    durationEl.textContent = getTime(video.duration);\n};\n\nsetInterval(() => {\n    timerEl.textContent = getTime(video.currentTime);\n}, 1000);\n\nconst handlePlay = () => {\n    const togglePlay = state.isPlayed ? 'pause' : 'play';\n    state.isPlayed = !state.isPlayed;\n    return video[togglePlay]();\n};\n\nconst handleSound = () => {\n    state.isMuted = !state.isMuted;\n    const toggleSound = video.muted ? false : true;\n    video.muted = toggleSound;\n};\n\nconst handleSoundBtn = (buttons) => buttons.forEach((button) => button.classList.toggle('shown'));\n\nconst handlePlayBtn = (buttons) => {\n    const play = [...buttons].filter(button => button.dataset.iconVideo === 'play');\n    const pause = [...buttons].filter(button => button.dataset.iconVideo === 'pause');\n    console.log(play, pause);\n    if (state.isPlayed) {\n        play.forEach((item) => {\n            item.classList.remove('shown');\n        });\n        pause.forEach((item) => {\n            item.classList.add('shown');\n        });\n\n    } else {\n        play.forEach((item) => {\n            item.classList.add('shown');\n        });\n        pause.forEach((item) => {\n            item.classList.remove('shown');\n        });\n    };\n};\n\nplay.forEach((item) => {\n    item.addEventListener('click', () => {\n        handlePlay();\n        handlePlayBtn(playIcons);\n    });\n});\n\nsound.addEventListener('click', () => {\n    handleSound();\n    handleSoundBtn(soundIcons);\n});\n\nconst setVideoTrackWidth = (val) => {\n    const track = document.querySelector('.progress-track');\n    const containerWidth = document.querySelector('.progress-bar').offsetWidth;\n    track.style.setProperty('width', `${containerWidth * (val / 100) + 3}px`);\n}\n\nconst setVolumeWidth = (val) => {\n    const track = document.querySelector('.volume-track');\n    const containerWidth = volumeBar.offsetWidth;\n    track.style.setProperty('width', `${containerWidth * val}px`);\n};\nsetVolumeWidth(volumeBar.value);\n\nvolumeBar.addEventListener('input', (event) => {\n    const val = Number(event.target.value);\n    console.log('progress:', val);\n    video.volume = val;\n    if (val === 0) {\n        handleSound();\n        handleSoundBtn(soundIcons);\n    }\n    if (val > 0 && state.isMuted) {\n        handleSound();\n        handleSoundBtn(soundIcons);\n    }\n\n    setVolumeWidth(val);\n});\n\nprogressBar.addEventListener('input', (event) => {\n    const val = event.target.value;\n    console.log('progress:', event, val);\n    const newTime = video.duration * val / 100;\n    video.currentTime = newTime;\n    setVideoTrackWidth(val);    \n});\n\nconst range = (currentTime) => {    \n    const value = currentTime / video.duration *100;\n    progressBar.value = value;\n    setVideoTrackWidth(value);\n};\n\nsetInterval(() => {\n    range(video.currentTime);\n}, 100);\n\n//controls visibility todo\nconst controls = document.querySelector('.controls');\nconst player = document.querySelector('.player-content');\nlet timer ;\nconst hideControls = () =>{ \n    timer = setTimeout(() => {\n    controls.classList.add('hidden');\n}, 9000);}\n\nplayer.addEventListener('mouseenter', () => {\n    controls.classList.remove('hidden');\n    clearTimeout(timer);\n});\ncontainer.addEventListener('mouseleave', () => {\n    hideControls();\n});\n\n//navigation\nconst breakPoints = {\n    1280: 4,\n    960: 3,\n    600: 2,\n    400: 1,\n};\n\nconst navigationContainer = document.querySelector('.navigation-container');\nconst currentWidth = () => window.innerWidth;\n\nconst getNumberOfCards = () => {\n    const width = currentWidth();\n    const keys = Object.keys(breakPoints);\n    console.log(keys)\n    const cuurrentBreakPoint = keys.find((key) => width <= key) ?? 1280;\n    return breakPoints[cuurrentBreakPoint];\n};\n\nconst addVideoCards = () => {\n    // remove already viewed from data\n    const filtered = data.filter((item) => !state.viewedId.includes(item.id));\n    console.log('filtered', filtered, state.viewedId,);\n    const cardsData = filtered.slice(0, getNumberOfCards());\n    const newCardsList = navigation(cardsData) ?? 'Nothing left here, you saw all';\n    navigationContainer.replaceChildren(newCardsList);\n};\n\naddVideoCards();\n\nwindow.addEventListener(\"resize\", () => {\n    addVideoCards();\n});\n\nnavigationContainer.addEventListener('click', ({ target }) => {\n    const id = target.closest('a').dataset.id;\n    insertVideo(Number(id));\n    video.play();\n    state.isPlayed = true;\n    handlePlayBtn(playIcons);\n    addVideoCards();\n});\n"],"names":["navigation","data","ul","els","item","li","link","img","title","container","play","sound","video","playIcons","soundIcons","timerEl","durationEl","progressBar","trackName","volumeBar","state","getTime","time","hours","min","sec","result","insertVideo","id","currentTrack","event","handlePlay","togglePlay","handleSound","toggleSound","handleSoundBtn","buttons","button","handlePlayBtn","pause","setVideoTrackWidth","val","track","containerWidth","setVolumeWidth","newTime","range","currentTime","value","controls","player","timer","hideControls","breakPoints","navigationContainer","currentWidth","getNumberOfCards","width","keys","cuurrentBreakPoint","key","addVideoCards","filtered","cardsData","newCardsList","target"],"mappings":"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"}